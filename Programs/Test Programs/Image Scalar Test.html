<style>
  body
  { 
    background-color: ivory; 
  }

  canvas
  {
    border:1px solid red;
  }
</style>

<body>
  <h1> Original Image </h1>
  <canvas id="originalImageCanvas" width=100 height=100></canvas>

  <h1> Second Step Image </h1>
  <canvas id="secondStepCanvas" width=100 height=100></canvas>

  <h1> Third Step Image </h1>
  <canvas id="thirdStepCanvas" width=100 height=100></canvas>

  <h1> Final Image </h1>
  <canvas id="finalCanvas" width=100 height=100></canvas>
</body>


<script>
  var finalImageHeight = 55;

  img=new Image();
  img.onload=function()
  {    

    // step 1 (Draw Original Image)
    var originalImageCanvas = document.getElementById("originalImageCanvas");
    originalImage           = originalImageCanvas.getContext('2d');

    originalImageCanvas.width  = img.width;
    originalImageCanvas.height = img.height;
    originalImage.drawImage(img, 0,0, originalImageCanvas.width,originalImageCanvas.height);

    var originalImageHeight = img.height;
    var originalImageWidth  = img.width;

    var scalar = originalImageHeight / finalImageHeight;
    console.log(scalar);

    var finalImageWidth = Math.ceil(originalImageWidth / (originalImageHeight / finalImageHeight));
    console.log(finalImageWidth);

    var heightStepSize = (originalImageHeight - finalImageHeight) / 3;
    var widthStepSize  = (originalImageWidth - finalImageWidth) / 3;
    console.log("Height" + heightStepSize);


    // step 2 (Draw Original Image half size)
    var secondStepCanvas = document.getElementById("secondStepCanvas");
    secondStepImage      = secondStepCanvas.getContext("2d");

    secondStepCanvas.width  = (originalImageWidth) - widthStepSize;
    secondStepCanvas.height = (originalImageHeight) - heightStepSize;

    secondStepImage.drawImage(originalImageCanvas, 0, 0, secondStepCanvas.width, secondStepCanvas.height);

    // step 3 (Draw Original Image half size)
    var thirdStepCanvas = document.getElementById("thirdStepCanvas");
    thirdStepImage = thirdStepCanvas.getContext("2d");

    thirdStepCanvas.width  = (secondStepCanvas.width) - widthStepSize;
    thirdStepCanvas.height = (secondStepCanvas.height) - heightStepSize;

    thirdStepImage.drawImage(secondStepCanvas, 0, 0, thirdStepCanvas.width, thirdStepCanvas.height);


    // Ste 4 (Draw Final Image)
    var finalCanvas = document.getElementById("finalCanvas");
    var finalImage    = finalCanvas.getContext("2d");
    
    finalCanvas.width  = finalImageWidth;
    finalCanvas.height = finalImageHeight;
    finalImage.drawImage(thirdStepCanvas, 0, 0, thirdStepCanvas.width , thirdStepCanvas.height  , 0, 0, finalCanvas.width, finalCanvas.height);
  }
  img.src="Calibration.png";
</script>

<!--
JavaScript syntax:  context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);

img     - Specifies the image, canvas, or video element to use   
sx      - Optional. The x coordinate where to start clipping
sy      - Optional. The y coordinate where to start clipping 
swidth  - Optional. The width of the clipped image 
sheight - Optional. The height of the clipped image
x       - The x coordinate where to place the image on the canvas
y       - The y coordinate where to place the image on the canvas
width   - Optional. The width of the image to use (stretch or reduce the image)
height  - Optional. The height of the image to use (stretch or reduce the image)